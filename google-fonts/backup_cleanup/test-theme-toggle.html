<!DOCTYPE html>
<html>
<head>
    <title>Test Theme Toggle</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
            transition: background-color 0.3s, color 0.3s;
        }
        
        .dark-theme {
            background-color: #212121;
            color: #f5f5f5;
        }
        
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        
        .dark-theme .test-section {
            background-color: #333;
            border-color: #555;
        }
        
        .theme-toggle-btn {
            padding: 10px 20px;
            background-color: #fff;
            border: 2px solid #ddd;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        .dark-theme .theme-toggle-btn {
            background-color: #333;
            border-color: #555;
            color: #f5f5f5;
        }
        
        .test-result {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
        }
        
        .success {
            background-color: #e8f5e9;
            color: #2E7D32;
        }
        
        .error {
            background-color: #ffebee;
            color: #c62828;
        }
        
        .info {
            background-color: #e8f0fe;
            color: #1565c0;
        }
    </style>
</head>
<body>
    <h1>üß™ Test Theme Toggle</h1>
    
    <div class="test-section">
        <h2>Theme Toggle Test</h2>
        <p>Click the theme button to test icon-only toggle.</p>
        
        <button class="theme-toggle-btn" id="theme-toggle">üåì</button>
        
        <div class="test-result info" id="test-result">
            Current theme: Light (üåì)<br>
            Click the button to toggle theme.
        </div>
    </div>
    
    <div class="test-section">
        <h2>Expected Behavior</h2>
        <p>The theme button should show:</p>
        
        <ul>
            <li>üåì (moon) for light theme</li>
            <li>‚òÄÔ∏è (sun) for dark theme</li>
            <li>No text, only icons</li>
        </ul>
        
        <div class="test-result info" id="behavior-result">
            Button should only show icons, no text.
        </div>
    </div>
    
    <div class="test-section">
        <h2>Theme Detection</h2>
        <p>Current theme state:</p>
        
        <div class="test-result info" id="theme-result">
            Theme: Light<br>
            Button icon: üåì
        </div>
    </div>
    
    <script>
        // Theme management
        let isDarkTheme = false;
        const themeToggleBtn = document.getElementById('theme-toggle');
        
        function toggleTheme() {
            isDarkTheme = !isDarkTheme;
            document.body.classList.toggle('dark-theme');
            
            // Update button icon based on current theme
            themeToggleBtn.textContent = isDarkTheme ? '‚òÄÔ∏è' : 'üåì';
            
            // Update test results
            const testResult = document.getElementById('test-result');
            const themeResult = document.getElementById('theme-result');
            
            if (testResult) {
                if (isDarkTheme) {
                    testResult.innerHTML = 'Current theme: Dark (‚òÄÔ∏è)<br>Click to switch back to light.';
                    testResult.className = 'test-result success';
                } else {
                    testResult.innerHTML = 'Current theme: Light (üåì)<br>Click to switch to dark.';
                    testResult.className = 'test-result info';
                }
            }
            
            if (themeResult) {
                themeResult.innerHTML = `Theme: ${isDarkTheme ? 'Dark' : 'Light'}<br>Button icon: ${isDarkTheme ? '‚òÄÔ∏è' : 'üåì'}`;
                themeResult.className = 'test-result success';
            }
            
            // Verify icon-only behavior
            const behaviorResult = document.getElementById('behavior-result');
            if (behaviorResult) {
                const buttonText = themeToggleBtn.textContent;
                if (buttonText === 'üåì' || buttonText === '‚òÄÔ∏è') {
                    behaviorResult.textContent = '‚úÖ Button shows only icons, no text';
                    behaviorResult.className = 'test-result success';
                } else {
                    behaviorResult.textContent = '‚ùå Button shows text instead of icon-only';
                    behaviorResult.className = 'test-result error';
                }
            }
        }
        
        // Load theme preference
        function loadThemePreference() {
            const savedTheme = localStorage.getItem('themePreference');
            if (savedTheme === 'dark') {
                isDarkTheme = true;
                document.body.classList.add('dark-theme');
                themeToggleBtn.textContent = '‚òÄÔ∏è';
                
                const testResult = document.getElementById('test-result');
                const themeResult = document.getElementById('theme-result');
                
                if (testResult) {
                    testResult.innerHTML = 'Current theme: Dark (‚òÄÔ∏è)<br>Click to switch back to light.';
                    testResult.className = 'test-result success';
                }
                
                if (themeResult) {
                    themeResult.innerHTML = 'Theme: Dark<br>Button icon: ‚òÄÔ∏è';
                    themeResult.className = 'test-result success';
                }
            }
        }
        
        // Set up event listener
        if (themeToggleBtn) {
            themeToggleBtn.addEventListener('click', toggleTheme);
        }
        
        // Load saved preference
        loadThemePreference();
    </script>
</body>
</html>