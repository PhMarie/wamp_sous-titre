<!DOCTYPE html>
<html>
<head>
    <title>Test Preview Font Size</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        #preview-text {
            padding: 12px 20px;
            width: 100%;
            max-width: 100%;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            box-sizing: border-box;
            margin-bottom: 20px;
        }
        
        .preview-text-controls {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            gap: 5px;
        }
        
        .preview-text-control-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 18px;
            color: #999;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s;
        }
        
        .preview-text-control-btn:hover {
            background-color: rgba(66, 133, 244, 0.1);
            color: #4285F4;
        }
        
        .test-result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
        }
        
        .success {
            background-color: #e8f5e9;
            color: #2E7D32;
        }
        
        .error {
            background-color: #ffebee;
            color: #c62828;
        }
        
        .info {
            background-color: #e8f0fe;
            color: #1565c0;
        }
        
        .font-card {
            border: 1px solid #ddd;
            padding: 20px;
            margin: 20px 0;
            cursor: pointer;
            border-radius: 8px;
        }
        
        .btn {
            padding: 8px 16px;
            margin-right: 10px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
        }
        
        .btn-primary {
            background-color: #4285F4;
            color: white;
        }
    </style>
</head>
<body>
    <h1>üß™ Test Preview Font Size</h1>
    
    <div class="test-section">
        <h2>Test 1: Default Font Size</h2>
        <p>Preview text should be 16px by default.</p>
        
        <div style="position: relative;">
            <input type="text" id="preview-text" placeholder="Preview text - should be 16px by default" value="Preview text - should be 16px by default">
            <div class="preview-text-controls">
                <button class="preview-text-control-btn" id="increase-font-size" title="Increase font size">+</button>
                <button class="preview-text-control-btn" id="reset-preview-font" title="Reset font">√ó</button>
            </div>
        </div>
        
        <div class="test-result info" id="test1-result">
            Current font size: <span id="current-size">16px</span>
        </div>
    </div>
    
    <div class="test-section">
        <h2>Test 2: Font Size Increase</h2>
        <p>Click the "+" button to increase font size by 2px each time (16px ‚Üí 18px ‚Üí 20px ‚Üí 22px ‚Üí 24px).</p>
        
        <div class="test-result info" id="test2-result">
            Click the "+" button above to test font size increase
        </div>
    </div>
    
    <div class="test-section">
        <h2>Test 3: Font Selection</h2>
        <p>Click the font card to apply a font - it should start at 16px.</p>
        
        <div class="font-card" data-font-name="Test Font" data-font-category="sans-serif">
            <div class="font-name">Test Font</div>
            <div class="font-preview">This is a preview of Test Font</div>
            <div class="font-actions">
                <button class="btn btn-primary" onclick="changePreviewFont('Test Font', 'sans-serif')">Apply Font</button>
            </div>
        </div>
        
        <div class="test-result info" id="test3-result">
            Click "Apply Font" to test font application with correct size
        </div>
    </div>
    
    <div class="test-section">
        <h2>Test 4: Reset Functionality</h2>
        <p>Click the "√ó" button to reset to default 16px size.</p>
        
        <div class="test-result info" id="test4-result">
            Increase size first, then click "√ó" to test reset
        </div>
    </div>
    
    <script>
        // Font size management
        let currentFontSize = 16; // Default size when using card font
        const fontSizeSteps = [16, 18, 20, 22, 24]; // Available font sizes (increase by 2px)
        let currentSizeIndex = 0; // Current index in fontSizeSteps
        
        const previewTextElement = document.getElementById('preview-text');
        const increaseFontSizeBtn = document.getElementById('increase-font-size');
        const resetPreviewFontBtn = document.getElementById('reset-preview-font');
        
        // Update size display
        function updateSizeDisplay() {
            const sizeDisplay = document.getElementById('current-size');
            if (sizeDisplay) {
                sizeDisplay.textContent = currentFontSize + 'px';
            }
        }
        
        // Increase font size function
        function increasePreviewFontSize() {
            if (previewTextElement && previewTextElement.classList.contains('using-card-font')) {
                // Cycle through font sizes
                currentSizeIndex = (currentSizeIndex + 1) % fontSizeSteps.length;
                currentFontSize = fontSizeSteps[currentSizeIndex];
                
                previewTextElement.style.fontSize = currentFontSize + 'px';
                updateSizeDisplay();
                
                const testResult = document.getElementById('test2-result');
                if (testResult) {
                    testResult.textContent = `‚úÖ Font size increased to ${currentFontSize}px (expected: ${fontSizeSteps[currentSizeIndex]}px)`;
                    testResult.className = 'test-result success';
                }
            } else {
                const testResult = document.getElementById('test2-result');
                if (testResult) {
                    testResult.textContent = '‚ö†Ô∏è Apply a font first to enable size increase';
                    testResult.className = 'test-result error';
                }
            }
        }
        
        // Reset font function
        function resetPreviewFont() {
            if (previewTextElement) {
                // Remove the custom font styling
                previewTextElement.style.fontFamily = '';
                previewTextElement.style.fontSize = '';
                previewTextElement.style.fontWeight = '';
                
                // Remove the visual indicator class
                previewTextElement.classList.remove('using-card-font');
                
                // Reset font size tracking to default (16px)
                currentFontSize = 16;
                currentSizeIndex = 0;
                
                updateSizeDisplay();
                
                const testResult = document.getElementById('test4-result');
                if (testResult) {
                    testResult.textContent = '‚úÖ Font size reset to default 16px';
                    testResult.className = 'test-result success';
                }
            }
        }
        
        // Change preview font function
        function changePreviewFont(fontName, fontCategory) {
            if (previewTextElement) {
                // Update the preview text styling to show it's using the selected font
                previewTextElement.style.fontFamily = `'${fontName}', ${fontCategory}`;
                previewTextElement.style.fontSize = fontSizeSteps[currentSizeIndex] + 'px';
                previewTextElement.style.fontWeight = 'normal';
                
                // Reset size tracking to default (16px)
                currentSizeIndex = 0;
                currentFontSize = fontSizeSteps[currentSizeIndex];
                
                // Add a visual indicator
                previewTextElement.classList.add('using-card-font');
                
                updateSizeDisplay();
                
                const testResult = document.getElementById('test3-result');
                if (testResult) {
                    testResult.textContent = `‚úÖ Font applied with size ${currentFontSize}px (default)`;
                    testResult.className = 'test-result success';
                }
            }
        }
        
        // Set up event listeners
        if (increaseFontSizeBtn) {
            increaseFontSizeBtn.addEventListener('click', increasePreviewFontSize);
        }
        
        if (resetPreviewFontBtn) {
            resetPreviewFontBtn.addEventListener('click', resetPreviewFont);
        }
        
        // Initialize
        updateSizeDisplay();
        
        const testResult1 = document.getElementById('test1-result');
        if (testResult1) {
            testResult1.textContent = '‚úÖ Default font size is 16px';
            testResult1.className = 'test-result success';
        }
    </script>
</body>
</html>